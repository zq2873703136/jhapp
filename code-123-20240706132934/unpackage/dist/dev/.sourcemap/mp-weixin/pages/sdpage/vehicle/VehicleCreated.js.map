{"version":3,"sources":["uni-app:///main.js","webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/vehicle/VehicleCreated.vue?e8d5","webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/vehicle/VehicleCreated.vue?dacc","webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/vehicle/VehicleCreated.vue?4938","webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/vehicle/VehicleCreated.vue?0772","uni-app:///pages/sdpage/vehicle/VehicleCreated.vue","webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/vehicle/VehicleCreated.vue?8161","webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/vehicle/VehicleCreated.vue?d0fd"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","props","data","allRwds","allCards","rwdhs","sbkhOptionsArray","kxhOptionsArray","sbkh","kxh","rwdh","czfl","cph","yhdw","gcmc","cd1","cd2","tbh","kid","kh1","sbkhError","kxhError","rwdhError","czflError","sbkhCurrentPage","kxhCurrentPage","rwdhCurrentPage","pageSize","selectedLanes","onLoad","methods","toggleLane","console","isLaneChecked","handleCzflInput","value","validatePositiveNumber","save","hasError","res","uni","title","id","sybz","setTimeout","url","icon","taskSheetQueryList","phbsfsh","currentPage","item","getCardQuery","showSbkhPicker","options","itemList","success","fail","showKxhPicker","showRwdhPicker","returnList"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,uBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuI;AACvI;AACkE;AACL;AACqC;;;AAGlG;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,qGAAM;AACR,EAAE,8GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAwmB,CAAgB,koBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC4I5nB;AAKA;AAAA;AAAA;AAAA,eAEA;EACAC;EACAC;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;MACAC;MACA;QACA;UAAA;QAAA;MACA;QACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACAC;MACA;MACA;MACA;QACAA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACAC,kBAEA;gBACA;kBACA;kBACAA;gBACA;gBACA;kBACA;kBACAA;gBACA;gBACA;kBACA;kBACAA;gBACA;gBACA;kBACA;kBACAA;gBACA;gBAAA,KAEAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,OAMA;kBACA9B;kBACAI;kBACAH;kBACAC;kBACAC;kBACAE;kBACAC;kBACAC;kBACAC;kBACAC;gBACA;cAAA;gBAXAsB;gBAYAP;gBAAA,KACAO;kBAAA;kBAAA;gBAAA;gBACAC;kBACAC;gBACA;gBACA;gBAAA;gBAAA,OACA;kBAAAC;kBAAAC;kBAAAxB;gBAAA;cAAA;gBACAyB;kBACA;kBACAJ;oBACAK;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAEAL;kBACAC;kBACAK;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAN;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAM;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA;kBACAC;kBACAC;kBACAtB;gBACA;cAAA;gBAJAY;gBAKA;kBAAA,uCACAA;kBAAA;oBAAA;sBAAAW;sBACAlB;sBACA;oBACA;kBAAA;oBAAA;kBAAA;oBAAA;kBAAA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAmB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA;kBACAR;gBACA;cAAA;gBAFAJ;gBAGA;kBACA;kBAAA,wCACAA;kBAAA;oBAAA;sBAAAW;sBACAlB;sBACA;sBACA;oBACA;kBAAA;oBAAA;kBAAA;oBAAA;kBAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAoB;MAAA;MACA;MACA;MACA;MACA;QACAC;MACA;MACA;QACAA;MACA;MACAb;QACAc;QACAC;UACA;YACA;YACA;UACA;YACA;YACA;UACA;YACA;YACA;YAAA,4CACA;cAAA;YAAA;cAAA;gBAAA;gBACA;kBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cACA;YAAA;cAAA;YAAA;cAAA;YAAA;UACA;QACA;QACAC;UACAxB;QACA;MACA;IACA;IACA;IACAyB;MAAA;MACA;MACA;MACA;MACA;QACAJ;MACA;MACA;QACAA;MACA;MACAb;QACAc;QACAC;UACA;YACA;YACA;UACA;YACA;YACA;UACA;YACA;YACA;YAAA,4CACA;cAAA;YAAA;cAAA;gBAAA;gBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cACA;YAAA;cAAA;YAAA;cAAA;YAAA;UACA;QACA;QACAC;UACAxB;QACA;MACA;IACA;IACA;IACA0B;MAAA;MACA;MACA;MACA;MACA;QACAL;MACA;MACA;QACAA;MACA;MACAb;QACAc;QACAC;UACA;YACA;YACA;UACA;YACA;YACA;UACA;YACA;YACA;YAAA,4CACA;cAAA;YAAA;cAAA;gBAAA;gBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cACA;YAAA;cAAA;YAAA;cAAA;YAAA;UACA;QACA;QACAC;UACAxB;QACA;MACA;IACA;IACA;IACA2B;MACA3B;MACAQ;QACAK;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACjeA;AAAA;AAAA;AAAA;AAAk5B,CAAgB,m5BAAG,EAAC,C;;;;;;;;;;;ACAt6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/sdpage/vehicle/VehicleCreated.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/sdpage/vehicle/VehicleCreated.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./VehicleCreated.vue?vue&type=template&id=4735bd65&scoped=true&\"\nvar renderjs\nimport script from \"./VehicleCreated.vue?vue&type=script&lang=js&\"\nexport * from \"./VehicleCreated.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VehicleCreated.vue?vue&type=style&index=0&id=4735bd65&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4735bd65\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sdpage/vehicle/VehicleCreated.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./VehicleCreated.vue?vue&type=template&id=4735bd65&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.isLaneChecked(\"cd1\")\n  var m1 = _vm.isLaneChecked(\"cd2\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./VehicleCreated.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./VehicleCreated.vue?vue&type=script&lang=js&\"","<template>\n    <view class=\"flex-col justify-start relative page\">\n        <!-- 页面头部背景 -->\n        <view class=\"section\"></view>\n        <!-- 返回列表按钮 -->\n        <image @click=\"returnList()\" class=\"image_4 pos_3\"\n               src=\"../../../static/page08/f3e6fccca575fc715964e18bcd57f45a.png\" />\n        <!-- 页面标题 -->\n        <text class=\"text_2 pos_2\">新增调度车辆</text>\n        <!-- 一些装饰性小图标 -->\n        <image class=\"image_5 pos_4\" src=\"../../../static/page08/fa3babe67a5849c8174f1ef2cfde632c.png\" />\n        <image class=\"image_5 pos_5\" src=\"../../../static/page08/aa53eb42545139139d2995ddcdc05da7.png\" />\n        <image class=\"image_5 pos_6\" src=\"../../../static/page08/aa53eb42545139139d2995ddcdc05da7.png\" />\n        <image class=\"image_5 pos_8\" src=\"../../../static/page08/aa53eb42545139139d2995ddcdc05da7.png\" />\n        <image class=\"image_6 pos_7\" src=\"../../../static/page08/3f9b3ec9fa1a2becdff9f3b8ad5c736f.png\" />\n        <image class=\"image_5 pos_9\" src=\"../../../static/page08/191dcdb6738075ad67bf9ccdee71d4ca.png\" />\n        <!-- 表单主体部分 -->\n        <view class=\"flex-col section_3 pos_10\">\n            <!-- 表单内容部分 -->\n            <view class=\"flex-col group_2\">\n                <!-- 识别卡号表单项 -->\n                <view class=\"flex-row items-start group_4\">\n                    <view class=\"flex-2\">\n                        <text class=\"font text_6 label-text\"><text style=\"color: red;\">*</text>识别卡号：</text>\n                    </view>\n                    <view class=\"flex-8\">\n                        <view class=\"picker\" @click=\"showSbkhPicker\">\n                            {{ sbkh || '请选择' }}\n                        </view>\n                    </view>\n                </view>\n                <view v-if=\"sbkhError\" class=\"error-tip\">{{sbkhError}}</view>\n                <!-- 卡序号表单项 -->\n                <view class=\"flex-row items-start group_4\">\n                    <view class=\"flex-2\">\n                        <text class=\"font text_6 label-text\"><text style=\"color: red;\">*</text>卡序号：</text>\n                    </view>\n                    <view class=\"flex-8\">\n                        <view class=\"picker\" @click=\"showKxhPicker\">\n                            {{ kxh || '请选择' }}\n                        </view>\n                    </view>\n                </view>\n                <view v-if=\"kxhError\" class=\"error-tip\">{{kxhError}}</view>\n                <!-- 任务单号表单项 -->\n                <view class=\"flex-row items-start group_4\">\n                    <view class=\"flex-2\">\n                        <text class=\"font text_6 label-text\"><text style=\"color: red;\">*</text>任务单号：</text>\n                    </view>\n                    <view class=\"flex-8\">\n                        <view class=\"picker\" @click=\"showRwdhPicker\">\n                            {{ rwdh || '请选择' }}\n                        </view>\n                    </view>\n                </view>\n                <view v-if=\"rwdhError\" class=\"error-tip\">{{rwdhError}}</view>\n                <!-- 车载方量表单项 -->\n                <view class=\"flex-row items-start group_4\">\n                    <view class=\"flex-2\">\n                        <text class=\"font text_6 label-text\"><text style=\"color: red;\">*</text>车载方量：</text>\n                    </view>\n                    <view class=\"flex-8\">\n                        <input class=\"mt-12 font_2\" v-model=\"czfl\" type=\"digit\" inputmode=\"decimal\" @input=\"handleCzflInput\" />\n                        <view v-if=\"czflError\" class=\"error-tip\">{{czflError}}</view>\n                    </view>\n                </view>\n                <!-- 车牌号表单项 -->\n                <view class=\"flex-row items-start group_4\">\n                    <view class=\"flex-2\">\n                        <text class=\"font text_6 label-text\">车牌号：</text>\n                    </view>\n                    <view class=\"flex-8\">\n                        <input class=\"mt-12 font_2\" v-model=\"cph\" />\n                    </view>\n                </view>\n                <!-- 砼标号表单项 -->\n                <view class=\"flex-row items-start group_4\">\n                    <view class=\"flex-2\">\n                        <text class=\"font text_6 label-text\">砼标号：</text>\n                    </view>\n                    <view class=\"flex-8\">\n                        <input class=\"mt-12 font_2\" v-model=\"tbh\" />\n                    </view>\n                </view>\n                <!-- 用户单位表单项 -->\n                <view class=\"flex-row items-start group_4\">\n                    <view class=\"flex-2\">\n                        <text class=\"font text_6 label-text\">用户单位：</text>\n                    </view>\n                    <view class=\"flex-8\">\n                        <input class=\"mt-12 font_2\" v-model=\"yhdw\" />\n                    </view>\n                </view>\n                <!-- 工程名称表单项 -->\n                <view class=\"flex-row items-start group_4\">\n                    <view class=\"flex-2\">\n                        <text class=\"font text_6 label-text\">工程名称：</text>\n                    </view>\n                    <view class=\"flex-8\">\n                        <input class=\"mt-12 font_2\" v-model=\"gcmc\" />\n                    </view>\n                </view>\n                <!-- 车道选择表单项 -->\n                <view class=\"flex-row items-start group_4\">\n                    <view class=\"flex-2\">\n                        <text class=\"font text_6 label-text\">车道选择： </text>\n                    </view>\n            <view class=\"flex-row\">\n                <view class=\"custom-checkbox\" @click=\"toggleLane('cd1')\">\n                    <view class=\"checkbox-inner\" :class=\"{ 'checked': isLaneChecked('cd1') }\"></view>\n                    <text>车道1</text>\n                </view>\n                <view class=\"custom-checkbox ml-10\" @click=\"toggleLane('cd2')\">\n                    <view class=\"checkbox-inner\" :class=\"{ 'checked': isLaneChecked('cd2') }\"></view>\n                    <text>车道2</text>\n                </view>\n            </view>\n                </view>\n            </view>\r\n\t\t\t\n            <view class=\"divider_2 divider\">\r\n\t\t\t\t<!-- 保存按钮区域 -->\r\n\t\t\t\t<view class=\"flex-col group_8\">\r\n\t\t\t\t    <view class=\"flex-row justify-end section_4\" @click=\"save\">\r\n\t\t\t\t        <text class=\"self-start font_3 text_12\">保存</text>\r\n\t\t\t\t        <image class=\"self-center image_8 ml-107\" src=\"../../../static/page08/f320e96e76ce634f8bda0439ccc78b69.png\" />\r\n\t\t\t\t    </view>\r\n\t\t\t\t    <view class=\"mt-10 section_5\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"divider_2\" style=\"height: 160rpx;\"></view>\n        </view>\n    </view>\n</template>\r\n\r\n\r\n\r\n\r\n<script>\n// 引入相关的 API 请求方法\nimport {\n    vehicleSave,\n    taskSheetQuery,\n    cardQuery,\n    cardSave,\n} from '@/request/api2.js';\n\nexport default {\n    components: {},\n    props: {},\n    data() {\n        return {\n            // 存储所有任务单数据\n            allRwds: [],\n            // 存储所有卡片数据\n            allCards: [],\n            // 存储所有任务单号\n            rwdhs: [],\n            // 存储识别卡号的选项数组\n            sbkhOptionsArray: [],\n            // 存储卡序号的选项数组\n            kxhOptionsArray: [],\n            // 当前选择的识别卡号\n            sbkh: null,\n            // 当前选择的卡序号\n            kxh: null,\n            // 当前选择的任务单号\n            rwdh: '',\n            // 车载方量\n            czfl: 0,\n            // 车牌号\n            cph: '',\n            // 用户单位\n            yhdw: '',\n            // 工程名称\n            gcmc: '',\n            // 车道 1 选择状态\n            cd1: '1',\n            // 车道 2 选择状态\n            cd2: '1',\n            // 砼标号\n            tbh: '',\n            // 卡片 ID\n            kid: '',\r\n\t\t\tkh1: '',\n            // 识别卡号的错误提示信息\n            sbkhError: '',\n            // 卡序号的错误提示信息\n            kxhError: '',\n            // 任务单号的错误提示信息\n            rwdhError: '',\n            // 车载方量的错误提示信息\n            czflError: '',\n            // 识别卡号选择器的当前页码\n            sbkhCurrentPage: 0,\n            // 卡序号选择器的当前页码\n            kxhCurrentPage: 0,\n            // 任务单号选择器的当前页码\n            rwdhCurrentPage: 0,\n            // 每页显示的选项数量\n            pageSize: 5,\r\n\t\t\tselectedLanes:[],\n        };\n    },\n    onLoad() {\n        // 页面加载时获取任务单列表和卡片信息\n        this.taskSheetQueryList();\n        this.getCardQuery();\r\n\t\tthis.selectedLanes.push('cd1');\r\n\t\tthis.selectedLanes.push('cd2');\n    },\n    methods: {\r\n\t\ttoggleLane(lane) {\r\n\t\t\tconsole.log('toggleLane::', lane)\r\n\t\t    if (this.selectedLanes.includes(lane)) {\r\n\t\t        this.selectedLanes = this.selectedLanes.filter(l => l!== lane);\r\n\t\t    } else {\r\n\t\t        this.selectedLanes.push(lane);\r\n\t\t    }\r\n\t\t    this.cd1 = this.selectedLanes.includes('cd1')? '1' : '0';\r\n\t\t    this.cd2 = this.selectedLanes.includes('cd2')? '1' : '0';\r\n\t\t},\r\n\t\tisLaneChecked(lane) {\r\n\t\t    return this.selectedLanes.includes(lane);\r\n\t\t},\n        // 处理车载方量输入事件\n        handleCzflInput(e) {\n            let value = e.detail.value;\n            // 过滤非数字和小数点字符\n            value = value.replace(/[^\\d.]/g, '');\n            // 处理多个小数点的情况，只保留第一个小数点\n            const decimalIndex = value.indexOf('.');\n            if (decimalIndex!== -1) {\n                value = value.slice(0, decimalIndex + 1) + value.slice(decimalIndex + 1).replace(/\\./g, '');\n            }\n            // 更新输入框的值\n            this.czfl = value;\n            // 验证输入的数字是否为正数\n            this.validatePositiveNumber('czfl');\n        },\n        // 验证输入的数字是否为正数\n        validatePositiveNumber(field) {\n            let value = this[field];\n            if (isNaN(value) || parseFloat(value) <= 0) {\n                this[`${field}Error`] = `${field === 'czfl'? '车载方量' : ''} 需输入大于零的数字`;\n                this[field] = '';\n            } else {\n                this[`${field}Error`] = '';\n                this[field] = parseFloat(value);\n            }\n        },\n        // 保存表单数据\n        async save() {\n            // 清空错误提示信息\n            this.sbkhError = '';\n            this.kxhError = '';\n            this.rwdhError = '';\n            this.czflError = '';\n            let hasError = false;\n\n            // 验证必填项\n            if (!this.sbkh) {\n                this.sbkhError = '识别卡号为必填项';\n                hasError = true;\n            }\n            if (!this.kxh) {\n                this.kxhError = '卡序号为必填项';\n                hasError = true;\n            }\n            if (!this.rwdh) {\n                this.rwdhError = '任务单号为必填项';\n                hasError = true;\n            }\n            if (!this.czfl) {\n                this.czflError = '车载方量为必填项';\n                hasError = true;\n            }\n\n            if (hasError) {\n                return;\n            }\n\n            try {\n                // 调用保存车辆信息的接口\n                const res = await vehicleSave({\n                    sbkh: this.sbkh,\n                    cph: this.cph,\n                    kxh: this.kxh,\n                    rwdh: this.rwdh,\n                    czfl: this.czfl,\n                    yhdw: this.yhdw,\n                    gcmc: this.gcmc,\n                    cd1: this.cd1,\n                    cd2: this.cd2,\n                    tbh: this.tbh\n                });\n                console.log('res', res);\n                if (res.success) {\n                    uni.showToast({\n                        title: '创建成功'\n                    });\n                    // 调用保存卡片使用状态的接口\n                    await cardSave({ id: this.kid, sybz: \"1\",kh1:this.kh1 });\n                    setTimeout(() => {\n                        // 跳转到车辆列表页面\n                        uni.redirectTo({\n                            url: '/pages/sdpage/vehicle/index'\n                        });\n                    }, 500);\n                } else {\n                    uni.showToast({\n                        title: res.errorMsg,\n                        icon: \"error\"\n                    });\n                }\n            } catch (e) {\n                uni.showToast({\n                    title: '创建失败'\n                });\n            }\n        },\n        // 获取任务单列表\n        async taskSheetQueryList() {\n            try {\n                const res = await taskSheetQuery({\n                    phbsfsh: 1,\n                    currentPage: \"1\",\n                    pageSize: \"300\"\n                });\n                if (res.data && res.data.length > 0) {\n                    for (let item of res.data) {\n                        console.log('taskSheetQueryList', item);\n                        this.rwdhs.push(item.rwdh);\n                    }\n                    this.allRwds = res.data;\n                }\n            } catch (error) {\n                console.error('获取任务单列表失败', error);\n            }\n        },\n        // 获取卡片信息\n        async getCardQuery() {\n            try {\n                const res = await cardQuery({\n                    sybz: \"0\"\n                });\n                if (res.data && res.data.length > 0) {\n                    this.allCards = res.data;\n                    for (let item of res.data) {\n                        console.log('cardQuery', item);\n                        this.sbkhOptionsArray.push(String(item.kh1));\n                        this.kxhOptionsArray.push(String(item.kxh));\n                    }\n                }\n            } catch (error) {\n                console.error('获取卡片信息失败', error);\n            }\n        },\n        // 显示识别卡号选择器\n        showSbkhPicker() {\n            const start = this.sbkhCurrentPage * this.pageSize;\n            const end = start + this.pageSize;\n            let options = this.sbkhOptionsArray.slice(start, end);\n            if (this.sbkhOptionsArray.length > end) {\n                options.push('下一页');\n            }\n            if (this.sbkhCurrentPage > 0) {\n                options.unshift('上一页');\n            }\n            uni.showActionSheet({\n                itemList: options,\n                success: (res) => {\n                    if (options[res.tapIndex] === '下一页') {\n                        this.sbkhCurrentPage++;\n                        this.showSbkhPicker();\n                    } else if (options[res.tapIndex] === '上一页') {\n                        this.sbkhCurrentPage--;\n                        this.showSbkhPicker();\n                    } else {\n                        const realIndex = this.sbkhCurrentPage * this.pageSize + res.tapIndex;\n                        this.sbkh = this.sbkhOptionsArray[realIndex];\n                        for (let item of this.allCards) {\n                            if (item.kh1 === this.sbkh) {\n                                this.kxh = item.kxh;\n                                this.cph = item.cph;\n                                this.kid = item.id;\r\n\t\t\t\t\t\t\t\tthis.kh1 = item.kh1;\n                                break;\n                            }\n                        }\n                    }\n                },\n                fail: (err) => {\n                    console.error('uni.showActionSheet failed:', err);\n                }\n            });\n        },\n        // 显示卡序号选择器\n        showKxhPicker() {\n            const start = this.kxhCurrentPage * this.pageSize;\n            const end = start + this.pageSize;\n            let options = this.kxhOptionsArray.slice(start, end);\n            if (this.kxhOptionsArray.length > end) {\n                options.push('下一页');\n            }\n            if (this.kxhCurrentPage > 0) {\n                options.unshift('上一页');\n            }\n            uni.showActionSheet({\n                itemList: options,\n                success: (res) => {\n                    if (options[res.tapIndex] === '下一页') {\n                        this.kxhCurrentPage++;\n                        this.showKxhPicker();\n                    } else if (options[res.tapIndex] === '上一页') {\n                        this.kxhCurrentPage--;\n                        this.showKxhPicker();\n                    } else {\n                        const realIndex = this.kxhCurrentPage * this.pageSize + res.tapIndex;\n                        this.kxh = this.kxhOptionsArray[realIndex];\n                        for (let item of this.allCards) {\n                            if (item.kxh === this.kxh) {\n                                this.sbkh = item.kh1;\n                                this.cph = item.cph;\n                                this.kid = item.id;\n                                break;\n                            }\n                        }\n                    }\n                },\n                fail: (err) => {\n                    console.error('uni.showActionSheet failed:', err);\n                }\n            });\n        },\n        // 显示任务单号选择器\n        showRwdhPicker() {\n            const start = this.rwdhCurrentPage * this.pageSize;\n            const end = start + this.pageSize;\n            let options = this.rwdhs.slice(start, end);\n            if (this.rwdhs.length > end) {\n                options.push('下一页');\n            }\n            if (this.rwdhCurrentPage > 0) {\n                options.unshift('上一页');\n            }\n            uni.showActionSheet({\n                itemList: options,\n                success: (res) => {\n                    if (options[res.tapIndex] === '下一页') {\n                        this.rwdhCurrentPage++;\n                        this.showRwdhPicker();\n                    } else if (options[res.tapIndex] === '上一页') {\n                        this.rwdhCurrentPage--;\n                        this.showRwdhPicker();\n                    } else {\n                        const realIndex = this.rwdhCurrentPage * this.pageSize + res.tapIndex;\n                        this.rwdh = this.rwdhs[realIndex];\r\n\t\t\t\t\t\t\t\t\t\tfor (let item of this.allRwds) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item.rwdh === this.rwdh) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.tbh = item.shtbh;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.yhdw = item.yhdw;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.gcmc = item.gcmc;\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\n                    }\n                },\n                fail: (err) => {\n                    console.error('uni.showActionSheet failed:', err);\n                }\n            });\n        },\n        // 返回车辆列表页面\n        returnList() {\n            console.log('返回任务单列表');\n            uni.redirectTo({\n                url: '/pages/sdpage/vehicle/index'\n            });\n        }\n    }\n};\n</script>\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t\r\n<style scoped lang=\"css\">\n/* 全局盒模型和默认样式 */\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n  .ml-107 {\n    margin-left: 214rpx;\n  }\r\n    .section_5 {\r\n      background-color: #d3d3d300;\r\n      height: 22rpx;\r\n    }\r\n\t.pos_10 {\r\n\t  position: absolute;\r\n\t  left: 0;\r\n\t  right: 0;\r\n\t  top: 226rpx;\r\n\t}\r\n\t\n/* 页面整体布局和背景 */\n.page {\n  background: linear-gradient(334.3deg, #2855ae 32.2%, #7292cf 133.9%);\n  width: 100%;\n  min-height: 100vh;\n  overflow-x: hidden;\n  font-family: 'Source Sans Pro', sans-serif;\n  color: #313131;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n/* 头部区域样式 */\n.section {\n  background: inherit;\n  width: 100%;\n  height: 200rpx;\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n\n/* 返回列表按钮样式 */\n.image_4 {\n  width: 24rpx;\n  height: 42rpx;\n  position: absolute;\n  left: 32rpx;\n  top: 111rpx;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n}\n.image_4:hover {\n  transform: scale(1.1);\n}\n\n/* 页面标题样式 */\n.text_2 {\n  color: #fff;\n  font-size: 36rpx;\n  position: absolute;\n  left: 86rpx;\n  top: 106rpx;\n}\n\n/* 装饰性小图标样式 */\n.image_5,\n.image_6 {\n  opacity: 0.35;\n  position: absolute;\n}\n\n.image_5 {\n  width: 6rpx;\n  height: 6rpx;\n}\n\n.image_6 {\n  width: 26rpx;\n  height: 26rpx;\n}\n\n.pos_4 {\n  left: 67.1rpx;\n  top: 153.02rpx;\n}\n.pos_5 {\n  right: 79.94rpx;\n  top: 149.98rpx;\n}\n.pos_6 {\n  right: 249.12rpx;\n  top: 156.36rpx;\n}\n.pos_7 {\n  right: 108.32rpx;\n  top: 159.38rpx;\n}\n.pos_8 {\n  left: 324.72rpx;\n  top: 176.54rpx;\n}\n.pos_9 {\n  left: 36rpx;\n  top: 212.94rpx;\n}\n\n/* 表单主体样式 */\n.section_3 {\n  background: url('../../../static/page08/85eaf09bd543c66b1287def37e55cdf5.png') no-repeat center/cover;\n  width: 100%;\n  max-width: 750rpx;\n  position: relative;\n  top: -30rpx;\n  border-radius: 20rpx;\n  box-shadow: 0 10rpx 20rpx rgba(0, 0, 0, 0.1);\n  padding: 30rpx;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n}\r\n\n\n/* 表单分割线样式 */\n.divider {\n  width: 100%;\n  height: 1rpx;\n  background-color: #e1e3e8;\n  margin-bottom: 20rpx;\n}\n\n/* 表单分组样式 */\n.group_2 {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n/* 表单行样式 */\n.group_4 {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  padding: 20rpx 0;\n  border-bottom: 1rpx solid #e1e3e8;\n}\n.group_4:last-child {\n  border-bottom: none;\n}\n\n/* 表单标签样式 */\n.label-text {\n  flex: 0 0 20%;\n  font-size: 28rpx;\n  color: #a5a5a5;\n  display: flex;\n  align-items: center;\n}\n.label-text.required::before {\n  content: '*';\n  color: red;\n  margin-right: 5rpx;\n}\n\n/* 表单输入框和选择器样式 */\n.group_4 input,\n.picker {\n  flex: 0 0 80%;\n  font-size: 32rpx;\n  padding: 10rpx 0;\n  background: transparent;\n  border: none;\n  outline: none;\n  transition: all 0.2s ease-in-out;\n}\n.group_4 input:focus,\n.picker:focus {\n  border-bottom: 2rpx solid #2855ae;\n}\n.picker {\n  appearance: none;\n  -webkit-appearance: none;\n  background-size: 20rpx;\n  cursor: pointer;\n}\n\n/* 错误提示样式 */\n.error-tip {\n  color: red;\n  font-size: 20rpx;\n  margin-top: 5rpx;\n  margin-left: 20%;\n}\n\n/* 车道选择样式 */\n.group_4 label {\n  display: flex;\n  align-items: center;\n  margin-right: 20rpx;\n  font-size: 28rpx;\n}\n.group_4 checkbox {\n  margin-right: 10rpx;\n}\n\n/* 保存按钮区域样式 */\n  .group_8 {\n    margin-top: 84rpx;\n  }\n/* 保存按钮样式 */\n  .section_4 {\n    margin: 0 32rpx;\n    padding: 22rpx 40rpx 26rpx;\n    background-image: url('../../../static/page08/a9b6e8eec8650efba9c066420aa572b9.png');\n    background-size: 100% 100%;\n    background-repeat: no-repeat;\n  }\r\n\n\n  .font_3 {\n    font-size: 30rpx;\n    font-family: Source Sans Pro;\n    line-height: 26rpx;\n    font-weight: 600;\n    color: #313131;\n  }\r\n  .text_12 {\r\n    color: #ffffff;\r\n  }\n  .image_8 {\n    width: 48rpx;\n    height: 30rpx;\n  }\r\n  \r\n  .custom-checkbox {\r\n      display: flex;\r\n      align-items: center;\r\n      cursor: pointer;\r\n  }\r\n  \r\n  .checkbox-inner {\r\n      width: 20px;\r\n      height: 20px;\r\n      border: 1px solid #ccc;\r\n      border-radius: 3px;\r\n      margin-right: 5px;\r\n  }\r\n  \r\n  .checkbox-inner.checked {\r\n      background-color: #1aad19;\r\n      border-color: #1aad19;\r\n  }\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./VehicleCreated.vue?vue&type=style&index=0&id=4735bd65&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./VehicleCreated.vue?vue&type=style&index=0&id=4735bd65&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1742779880855\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}