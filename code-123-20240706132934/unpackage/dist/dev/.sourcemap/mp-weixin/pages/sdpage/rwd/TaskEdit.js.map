{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/rwd/TaskEdit.vue?b3af","webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/rwd/TaskEdit.vue?f3af","webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/rwd/TaskEdit.vue?3a48","uni-app:///pages/sdpage/rwd/TaskEdit.vue","webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/rwd/TaskEdit.vue?8985","webpack:///C:/erp/jhapp/code-123-20240706132934/pages/sdpage/rwd/TaskEdit.vue?5932"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","props","data","form2","id","pickerIndex","jzfs","planDate","ghrq","rwdh","htbh","demander","yhdw","gcmc","gcdz","gcbw","jhfl","yj","qddj","tld","zdlj","bz","yhdws","gcmcs","gcdzs","gcbws","qddjs","tlds","zdljs","jzfsList","yhdwIndex","gcmcIndex","gcdzIndex","gcbwIndex","qddjIndex","tldIndex","zdljIndex","jzfsIndex","jhflError","yjError","ghrqError","zdljError","onLoad","res","methods","initPickerIndex","console","getDictValues","uni","title","icon","handleYhdwChange","handleYhdwInput","handleGcmcChange","handleGcmcInput","handleGcdzChange","handleGcdzInput","handleGcbwChange","handleGcbwInput","handleQddjChange","handleQddjInput","handleTldChange","handleTldInput","handleJzfsChange","handleJzfsInput","handleZdljChange","handleZdljInput","filterNonNumeric","validValue","validatePositiveNumber","bindDateChange","save","taskSheetCode","remainConcreteQuantity","pumpingParams","setTimeout","returnList","url"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACqC;;;AAG5F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC6JtnB;AAAA;AAAA;AAAA,eAEA;EACAC;EACAC;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA;MACA;QACAC;MACA;MACA,6CACA,aACAA,IACA;MACA;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACAC;MACAA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA;cAAA;gBAAAJ;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAG;gBACAE;kBACAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MAEA;QACAC;MACA;MAEA;QACAA;MACA;MAEA;QACAA;MACA;MAEA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,OAIA;kBACAnE;kBACAoE;kBACA/D;kBACAC;kBACAF;kBACAD;kBACAK;kBACAC;kBACAC;kBACAC;kBACAC;kBACAyD;kBACAxD;kBACAC;kBACAZ;kBACAoE;kBACAvD;kBACAC;kBACAC;gBACA;cAAA;gBApBAsB;gBAqBAK;kBACAC;gBACA;gBACA0B;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA3B;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA2B;MACA9B;MACAE;QACA6B;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AClZA;AAAA;AAAA;AAAA;AAA44B,CAAgB,64BAAG,EAAC,C;;;;;;;;;;;ACAh6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/sdpage/rwd/TaskEdit.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/sdpage/rwd/TaskEdit.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./TaskEdit.vue?vue&type=template&id=2237d605&scoped=true&\"\nvar renderjs\nimport script from \"./TaskEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TaskEdit.vue?vue&type=style&index=0&id=2237d605&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2237d605\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sdpage/rwd/TaskEdit.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./TaskEdit.vue?vue&type=template&id=2237d605&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./TaskEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./TaskEdit.vue?vue&type=script&lang=js&\"","<template>\n    <view class=\"flex-col justify-start relative page\">\n        <view class=\"section\"></view>\n        <image @click=\"returnList()\" class=\"image_4 pos_3\" src=\"../../../static/page08/f3e6fccca575fc715964e18bcd57f45a.png\" />\n        <text class=\"text_2 pos_2\">编辑任务单</text>\n        <image class=\"image_5 pos_4\" src=\"../../../static/page08/fa3babe67a5849c8174f1ef2cfde632c.png\" />\n        <image class=\"image_5 pos_5\" src=\"../../../static/page08/aa53eb42545139139d2995ddcdc05da7.png\" />\n        <image class=\"image_5 pos_6\" src=\"../../../static/page08/aa53eb42545139139d2995ddcdc05da7.png\" />\n        <image class=\"image_5 pos_8\" src=\"../../../static/page08/aa53eb42545139139d2995ddcdc05da7.png\" />\n        <image class=\"image_6 pos_7\" src=\"../../../static/page08/3f9b3ec9fa1a2becdff9f3b8ad5c736f.png\" />\n        <image class=\"image_5 pos_9\" src=\"../../../static/page08/191dcdb6738075ad67bf9ccdee71d4ca.png\" />\n        <view class=\"flex-col section_3 pos_10\">\n            <view class=\"flex-col items-start group\">\n                <text class=\"font text_3\">序号</text>\n                <text class=\"mt-12 font_2 text_4\">{{form2.id}}</text>\n            </view>\n            <view class=\"divider view\"></view>\n            <view class=\"flex-col group_2\">\n                <text class=\"self-start font text_5\"><text style=\"color: red;\">*</text>供货日期</text>\n                <view class=\"flex-row justify-between self-stretch group_3\">\n                    <view class=\"self-start font_2\">\n                        <picker mode=\"date\" :value=\"form2.ghrq\" start=\"1900-01-01\" end=\"2200-12-31\" @change=\"bindDateChange\">\n                            <view>{{ form2.ghrq || '请选择日期'}}</view>\n                        </picker>\n                    </view>\n                    <image class=\"self-center image_7\" src=\"../../../static/page08/a1ca844a9f5e07be9471329ffa0f6568.png\" />\n                </view>\n                <view v-if=\"ghrqError\" class=\"error-tip\">{{ghrqError}}</view>\n            </view>\n            <view class=\"divider view\"></view>\n            <view class=\"flex-col group_2\">\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">任务单编号</text>\n                    <input class=\"mt-12 font_2\" v-model=\"form2.rwdh\" />\n                </view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">合同编号</text>\n                    <input class=\"mt-12 font_2\" v-model=\"form2.htbh\" />\n                </view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">用户单位</text>\n                    <view class=\"flex-row\">\n                        <picker v-model=\"yhdwIndex\" :range=\"yhdws\" @change=\"handleYhdwChange\">\n                            <view class=\"mt-12 font_2\">\n                                {{ yhdwIndex === -1? '请选择' : yhdws[yhdwIndex] }}\n                            </view>\n                        </picker>\n                        <input class=\"mt-12 font_2\" v-model=\"form2.yhdw\" @input=\"handleYhdwInput\" />\n                    </view>\n                </view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">工程名称</text>\n                    <view class=\"flex-row\">\n                        <picker v-model=\"gcmcIndex\" :range=\"gcmcs\" @change=\"handleGcmcChange\">\n                            <view class=\"mt-12 font_2\">\n                                {{ gcmcIndex === -1? '请选择' : gcmcs[gcmcIndex] }}\n                            </view>\n                        </picker>\n                        <input class=\"mt-12 font_2\" v-model=\"form2.gcmc\" @input=\"handleGcmcInput\" />\n                    </view>\n                </view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">工程地址</text>\n                    <view class=\"flex-row\">\n                        <picker v-model=\"gcdzIndex\" :range=\"gcdzs\" @change=\"handleGcdzChange\">\n                            <view class=\"mt-12 font_2\">\n                                {{ gcdzIndex === -1? '请选择' : gcdzs[gcdzIndex] }}\n                            </view>\n                        </picker>\n                        <input class=\"mt-12 font_2\" v-model=\"form2.gcdz\" @input=\"handleGcdzInput\" />\n                    </view>\n                </view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">工程部位</text>\n                    <view class=\"flex-row\">\n                        <picker v-model=\"gcbwIndex\" :range=\"gcbws\" @change=\"handleGcbwChange\">\n                            <view class=\"mt-12 font_2\">\n                                {{ gcbwIndex === -1? '请选择' : gcbws[gcbwIndex] }}\n                            </view>\n                        </picker>\n                        <input class=\"mt-12 font_2\" v-model=\"form2.gcbw\" @input=\"handleGcbwInput\" />\n                    </view>\n                </view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">强度等级</text>\n                    <view class=\"flex-row\">\n                        <picker v-model=\"qddjIndex\" :range=\"qddjs\" @change=\"handleQddjChange\">\n                            <view class=\"mt-12 font_2\">\n                                {{ qddjIndex === -1? '请选择' : qddjs[qddjIndex] }}\n                            </view>\n                        </picker>\n                        <input class=\"mt-12 font_2\" v-model=\"form2.qddj\" @input=\"handleQddjInput\" />\n                    </view>\n                </view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">计划方量</text>\n                    <input class=\"mt-12 font_2\" min=\"0\" type=\"number\" v-model=\"form2.jhfl\" @input=\"filterNonNumeric($event, 'jhfl')\" />\n                    <view v-if=\"jhflError\" class=\"error-tip\">{{jhflError}}</view>\n                </view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">运距</text>\n                    <input class=\"mt-12 font_2\" v-model=\"form2.yj\" @input=\"filterNonNumeric($event, 'yj')\" />\n                    <view v-if=\"yjError\" class=\"error-tip\">{{yjError}}</view>\n                </view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">浇筑方式</text>\n                    <view class=\"flex-row\">\n                        <picker v-model=\"jzfsIndex\" :range=\"jzfsList\" @change=\"handleJzfsChange\">\n                            <view class=\"mt-12 font_2\">\n                                {{ jzfsIndex == -1? '请选择' : jzfsList[jzfsIndex] }}\n                            </view>\n                        </picker>\n                        <input class=\"mt-12 font_2\" v-model=\"form2.jzfs\" @input=\"handleJzfsInput\" />\n                    </view>\n                </view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">塌落度</text>\n                    <view class=\"flex-row\">\n                        <picker v-model=\"tldIndex\" :range=\"tlds\" @change=\"handleTldChange\">\n                            <view class=\"mt-12 font_2\">\n                                {{ tldIndex === -1? '请选择' : tlds[tldIndex] }}\n                            </view>\n                        </picker>\n                        <input class=\"mt-12 font_2\" v-model=\"form2.tld\" @input=\"handleTldInput\" />\n                    </view>\n                </view>\r\n\t\t\t\t<view class=\"flex-col items-start input group_4\">\r\n\t\t\t\t    <text class=\"font text_6\">最大粒径</text>\r\n\t\t\t\t    <view class=\"flex-row\">\r\n\t\t\t\t        <picker v-model=\"zdljIndex\" :range=\"zdljs\" @change=\"handleZdljChange\">\r\n\t\t\t\t            <view class=\"mt-12 font_2\">\r\n\t\t\t\t                {{ zdljIndex === -1? '请选择' : zdljs[zdljIndex] }}\r\n\t\t\t\t            </view>\r\n\t\t\t\t        </picker>\r\n\t\t\t\t        <input class=\"mt-12 font_2\" v-model=\"form2.zdlj\" @input=\"handleZdljInput\" />\r\n\t\t\t\t    </view>\r\n\t\t\t\t</view>\n                <view class=\"flex-col items-start input group_4\">\n                    <text class=\"font text_6\">备注</text>\n                    <input class=\"mt-12 font_2\" v-model=\"form2.bz\" />\n                </view>\n            </view>\n            <view class=\"divider_2 divider\"></view>\n            <view class=\"flex-col group_8\">\n                <view class=\"flex-row justify-end section_4\" @click=\"save\">\n                    <text class=\"self-start font_3 text_12\">保存</text>\n                    <image class=\"self-center image_8 ml-107\" src=\"../../../static/page08/f320e96e76ce634f8bda0439ccc78b69.png\" />\n                </view>\n                <view class=\"mt-10 section_5\"></view>\n            </view>\n        </view>\n    </view>\n</template>\n\r\n\r\n\r\n<script>\r\nimport { taskSheetSave, SysDictQueryValue } from '@/request/api2.js'\n\nexport default {\n    components: {},\n    props: {},\n    data() {\n        return {\n            form2: {\n                id: 0,\n                pickerIndex: 0,\n                jzfs: '',\n                planDate: '',\n                ghrq: '',\n                rwdh: '',\n                htbh: '',\n                demander: '',\n                yhdw: '',\n                gcmc: '',\n                gcdz: '',\n                gcbw: '',\n                jhfl: '',\n                yj: '',\n                qddj: '',\n                tld: '',\n                zdlj: '',\n                bz: ''\n            },\n            yhdws: [],\n            gcmcs: [],\n            gcdzs: [],\n            gcbws: [],\n            qddjs: [],\n            tlds: [],\n            zdljs: [],\n            jzfsList: [],\n            yhdwIndex: -1,\n            gcmcIndex: -1,\n            gcdzIndex: -1,\n            gcbwIndex: -1,\n            qddjIndex: -1,\n            tldIndex: -1,\n            zdljIndex: -1,\r\n\t\t\tjzfsIndex: -1,\n            jhflError: '',\n            yjError: '',\n            ghrqError: '',\n            zdljError: '',\n        };\n    },\n    onLoad(query) {\n        if (query.data) {\n            const res = JSON.parse(query.data);\n            if (res.ghrq && res.ghrq.includes('T')) {\n                res.ghrq = res.ghrq.split('T')[0];\n            }\n            this.form2 = {\n              ...this.form2,\n              ...res\n            };\n            this.initPickerIndex();\n        }\n        this.getDictValues();\n    },\n    methods: {\n        initPickerIndex() {\n            this.yhdwIndex = this.yhdws.findIndex(item => item === this.form2.yhdw);\n            this.gcmcIndex = this.gcmcs.findIndex(item => item === this.form2.gcmc);\n            this.gcdzIndex = this.gcdzs.findIndex(item => item === this.form2.gcdz);\n            this.gcbwIndex = this.gcbws.findIndex(item => item === this.form2.gcbw);\n            this.qddjIndex = this.qddjs.findIndex(item => item === this.form2.qddj);\n            this.tldIndex = this.tlds.findIndex(item => item === this.form2.tld);\n            this.zdljIndex = this.zdljs.findIndex(item => item === this.form2.zdlj);\n            this.jzfsIndex = this.jzfsList.findIndex(item => item === this.form2.jzfs);\r\n\t\t\tconsole.log('this.jzfsIndex ',this.jzfsIndex )\r\n\t\t\tconsole.log('this.jzfsList ',this.jzfsList )\n        },\n        async getDictValues() {\n            try {\n                const res = await SysDictQueryValue();\n                this.yhdws = res.data.yhdws || [];\n                this.gcmcs = res.data.gcmcs || [];\n                this.gcdzs = res.data.gcdzs || [];\n                this.gcbws = res.data.gcbws || [];\n                this.qddjs = res.data.qddjs || [];\n                this.tlds = res.data.tlds || [];\n                this.zdljs = res.data.zdljs || [];\n                this.jzfsList = res.data.jzfss || [];\n            } catch (e) {\n                console.error('获取字典值失败', e);\n                uni.showToast({\n                    title: '获取下拉选项数据失败',\n                    icon: 'none'\n                });\n            }\n        },\n        handleYhdwChange(e) {\n            this.yhdwIndex = e.detail.value;\n            this.form2.yhdw = this.yhdws[this.yhdwIndex];\n        },\n        handleYhdwInput(e) {\n            this.form2.yhdw = e.detail.value;\n            this.yhdwIndex = -1;\n        },\n        handleGcmcChange(e) {\n            this.gcmcIndex = e.detail.value;\n            this.form2.gcmc = this.gcmcs[this.gcmcIndex];\n        },\n        handleGcmcInput(e) {\n            this.form2.gcmc = e.detail.value;\n            this.gcmcIndex = -1;\n        },\n        handleGcdzChange(e) {\n            this.gcdzIndex = e.detail.value;\n            this.form2.gcdz = this.gcdzs[this.gcdzIndex];\n        },\n        handleGcdzInput(e) {\n            this.form2.gcdz = e.detail.value;\n            this.gcdzIndex = -1;\n        },\n        handleGcbwChange(e) {\n            this.gcbwIndex = e.detail.value;\n            this.form2.gcbw = this.gcbws[this.gcbwIndex];\n        },\n        handleGcbwInput(e) {\n            this.form2.gcbw = e.detail.value;\n            this.gcbwIndex = -1;\n        },\n        handleQddjChange(e) {\n            this.qddjIndex = e.detail.value;\n            this.form2.qddj = this.qddjs[this.qddjIndex];\n        },\n        handleQddjInput(e) {\n            this.form2.qddj = e.detail.value;\n            this.qddjIndex = -1;\n        },\n        handleTldChange(e) {\n            this.tldIndex = e.detail.value;\n            this.form2.tld = this.tlds[this.tldIndex];\n        },\n        handleTldInput(e) {\n            this.form2.tld = e.detail.value;\n            this.tldIndex = -1;\n        },\n        handleJzfsChange(e) {\n            this.jzfsIndex = e.detail.value;\n            this.form2.jzfs = this.jzfsList[this.jzfsIndex];\n        },\n        handleJzfsInput(e) {\n            this.form2.jzfs = e.detail.value;\n            this.jzfsIndex = -1;\n        },\n        handleZdljChange(e) {\n            this.zdljIndex = e.detail.value;\n            this.form2.zdlj = this.zdljs[this.zdljIndex];\n        },\n        handleZdljInput(e) {\n            this.form2.zdlj = e.detail.value;\n            this.zdljIndex = -1;\n        },\n        filterNonNumeric(e, field) {\n            let inputValue = e.detail.value;\n            let validValue = inputValue.replace(/[^0-9.]/g, '');\n\n            while (validValue.includes('..')) {\n                validValue = validValue.replace('..', '.');\n            }\n\n            if (validValue.startsWith('.')) {\n                validValue = '0' + validValue;\n            }\n\n            if (validValue.endsWith('.')) {\n                validValue = validValue.slice(0, -1);\n            }\n\n            const numValue = parseFloat(validValue);\n            if (isNaN(numValue)) {\n                this.form2[field] = 0;\n            } else {\n                this.form2[field] = numValue;\n            }\n            this.validatePositiveNumber(field);\n        },\n        validatePositiveNumber(field) {\n            return (e) => {\n                let value = e.detail.value;\n                if (isNaN(value) || parseFloat(value) <= 0) {\n                    this[`${field}Error`] = `${field === 'jhfl'? '计划方量' : field === 'zdlj'? '最大粒径' : '运距'} 需输入大于零的数字`;\n                    this.form2[field] = '';\n                } else {\n                    this[`${field}Error`] = '';\n                    this.form2[field] = parseFloat(value);\n                }\n            };\n        },\n        bindDateChange(e) {\n            this.form2.ghrq = e.detail.value;\n            this.ghrqError = '';\n        },\n        async save() {\n            if (!this.form2.ghrq) {\n                this.ghrqError = '供货日期为必填项';\n                return;\n            }\n            try {\n                const res = await taskSheetSave({\n                    id: this.form2.id,\n                    taskSheetCode: this.form2.taskSheetCode,\n                    rwdh: this.form2.rwdh,\n                    htbh: this.form2.htbh,\n                    ghrq: this.form2.ghrq,\n                    planDate: this.form2.planDate,\n                    yhdw: this.form2.yhdw,\n                    gcmc: this.form2.gcmc,\n                    gcdz: this.form2.gcdz,\n                    gcbw: this.form2.gcbw,\n                    jhfl: this.form2.jhfl,\n                    remainConcreteQuantity: this.form2.remainConcreteQuantity,\n                    yj: this.form2.yj,\n                    qddj: this.form2.qddj,\n                    jzfs: this.form2.jzfs,\n                    pumpingParams: this.form2.pumpingParams,\n                    tld: this.form2.tld,\n                    zdlj: this.form2.zdlj,\n                    bz: this.form2.bz\n                });\n                uni.showToast({\n                    title: '编辑成功'\n                });\n                 setTimeout(()=>{\r\n                 \tthis.returnList()\r\n                 },500)\n            } catch (e) {\n                uni.showToast({\n                    title: '编辑失败'\n                });\n            }\n        },\n        returnList() {\n            console.log('返回任务单列表');\n            uni.redirectTo({\n                url: '/pages/sdpage/rwd/index'\n            });\n        }\n    }\n};\r\n</script>\r\n\r\n<style scoped lang=\"css\">\n    .ml-5 {\n        margin-left: 10rpx;\n    }\n\n    .ml-107 {\n        margin-left: 214rpx;\n    }\n\n    .page {\n        background-color: #ffffff;\n        background-image: linear-gradient(334.3deg, #2855ae 32.2%, #7292cf 133.9%);\n        width: 100%;\n        overflow-y: auto;\n        overflow-x: hidden;\n        height: 100%;\n    }\n\n    .section {\n        background-image: linear-gradient(334.3deg, #2855ae 32.2%, #7292cf 133.9%);\n        width: 750rpx;\n        height: 1624rpx;\n    }\n\n    .section_2 {\n        padding: 26rpx 28rpx 36rpx 36rpx;\n        background-color: #ffffff00;\n    }\n\n    .pos {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n    }\n\n    .text {\n        color: #ffffff;\n        font-size: 30rpx;\n        font-family: Avenir LT Std;\n        line-height: 21.78rpx;\n    }\n\n    .image {\n        width: 34rpx;\n        height: 22rpx;\n    }\n\n    .image_2 {\n        width: 30rpx;\n        height: 22rpx;\n    }\n\n    .image_3 {\n        width: 48rpx;\n        height: 22rpx;\n    }\n\n    .image_4 {\n        width: 24rpx;\n        height: 42rpx;\n    }\n\n    .pos_3 {\n        position: absolute;\n        left: 32rpx;\n        top: 111rpx;\n    }\n\n    .text_2 {\n        color: #ffffff;\n        font-size: 36rpx;\n        font-family: Source Sans Pro;\n        line-height: 33.16rpx;\n    }\n\n    .pos_2 {\n        position: absolute;\n        left: 86rpx;\n        top: 106rpx;\n    }\n\n    .image_5 {\n        opacity: 0.35;\n        width: 6rpx;\n        height: 6rpx;\n    }\n\n    .pos_4 {\n        position: absolute;\n        left: 67.1rpx;\n        top: 153.02rpx;\n    }\n\n    .pos_5 {\n        position: absolute;\n        right: 79.94rpx;\n        top: 149.98rpx;\n    }\n\n    .pos_6 {\n        position: absolute;\n        right: 249.12rpx;\n        top: 156.36rpx;\n    }\n\n    .pos_8 {\n        position: absolute;\n        left: 324.72rpx;\n        top: 176.54rpx;\n    }\n\n    .image_6 {\n        opacity: 0.35;\n        width: 26rpx;\n        height: 26rpx;\n    }\n\n    .pos_7 {\n        position: absolute;\n        right: 108.32rpx;\n        top: 159.38rpx;\n    }\n\n    .pos_9 {\n        position: absolute;\n        left: 36rpx;\n        top: 212.94rpx;\n    }\n\n    .section_3 {\n        background-image: url('../../../static/page08/85eaf09bd543c66b1287def37e55cdf5.png');\n        background-size: 100% 100%;\n        background-repeat: no-repeat;\n    }\n\n    .pos_10 {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 226rpx;\n    }\n\n    .group {\n        padding: 56rpx 32rpx;\n    }\n\n    .font {\n        font-size: 24rpx;\n        font-family: Source Sans Pro;\n        line-height: 21.12rpx;\n        color: #a5a5a5;\n    }\n\n    .text_3 {\n        line-height: 22.1rpx;\n    }\n\n    .font_2 {\n        font-size: 32rpx;\n        font-family: Source Sans Pro;\n        line-height: 21.12rpx;\n        font-weight: 600;\n        color: #313131;\n    }\n\n    .text_4 {\n        color: #979797;\n        line-height: 20.36rpx;\n    }\n\n    .group_2 {\n        margin-top: 58rpx;\n        padding: 0 32rpx;\n    }\n\n    .text_5 {\n        line-height: 21.76rpx;\n    }\n\n    .group_3 {\n        padding: 24rpx 0;\n        border-bottom: solid 2rpx #e1e3e8;\n    }\n\n    .image_7 {\n        margin-right: 12rpx;\n        width: 34rpx;\n        height: 36rpx;\n    }\n\n    .input {\n        align-self: stretch;\n        margin-top: 36rpx;\n    }\n\n    .group_4 {\n        padding: 24rpx 0;\n        border-bottom: solid 2rpx #e1e3e8;\n    }\n\n    .text_6 {\n        line-height: 21.76rpx;\n    }\n\n    .group_5 {\n        padding: 60rpx 32rpx 56rpx;\n    }\n\n    .text_7 {\n        line-height: 22.12rpx;\n    }\n\n    .group_6 {\n        margin: 0 32rpx;\n        padding: 56rpx 0 44rpx;\n        border-top: solid 2rpx #e1e3e8;\n        border-bottom: solid 2rpx #e1e3e8;\n    }\n\n    .text_8 {\n        line-height: 22.1rpx;\n    }\n\n.font_3 {\n    font-size: 32rpx;\n    font-family: Source Sans Pro;\n    line-height: 29.92rpx;\n    font-weight: 600;\n    color: #313131;\n}\n\n.text_9 {\n    line-height: 30.28rpx;\n}\n\n.group_7 {\n    padding: 72rpx 32rpx 48rpx;\n}\n\n.text_10 {\n    line-height: 22.04rpx;\n}\n\n.text_11 {\n    line-height: 29.54rpx;\n}\n\n.divider_2 {\n    margin: 0 32rpx;\n}\n\n.divider {\n    background-color: #e1e3e8;\n    height: 2rpx;\n}\n\n.view {\n    margin: 0 32rpx;\n}\n\n.group_8 {\n    margin-top: 134rpx;\n}\n\n.section_4 {\n    margin: 0 32rpx;\n    padding: 32rpx 60rpx 36rpx;\n    background-image: url('../../../static/page08/a9b6e8eec8650efba9c066420aa572b9.png');\n    background-size: 100% 100%;\n    background-repeat: no-repeat;\n}\n\n.text_12 {\n    color: #ffffff;\n}\n\n.image_8 {\n    width: 56rpx;\n    height: 36rpx;\n}\n\n.section_5 {\n    background-color: #d3d3d300;\n    height: 32rpx;\n}\n\n/* 新增错误提示样式 */\n.error-tip {\n    color: red;\n    font-size: 20rpx;\n    margin-top: 5rpx;\n}\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./TaskEdit.vue?vue&type=style&index=0&id=2237d605&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./TaskEdit.vue?vue&type=style&index=0&id=2237d605&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1739846973389\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}